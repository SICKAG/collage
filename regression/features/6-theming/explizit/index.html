<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script type="module">
    import { expose } from "@sick-davinci/collage";
    import { themable } from './theme-switch.js'

    const themes = {
      dark: {
        '--color-primary': 'green',
        '--color-secondary': 'red',
        '--color-forground': 'white',
        '--color-background': 'black'
      },
      light: {
        '--color-primary': 'green',
        '--color-secondary': 'red',
        '--color-forground': 'black',
        '--color-background': 'white'
      },
      customer: {
        '--color-primary': 'yellow',
        '--color-secondary': 'red',
        '--color-forground': 'blue',
        '--color-background': 'green'
      }
    }

    const { changeStyling } = await themable(expose, themes.light)

    document.querySelector('#action-change-theme')
      .addEventListener('click', ({target}) => {
        const btn = target.closest('button')
        if (btn) {
          btn.parentElement.querySelectorAll('button').forEach(
            e => e.classList.toggle('active', e === btn))
          changeStyling(themes[btn.textContent])
        }
      })
  </script>
  <link rel="stylesheet" href="./fancy-style.css">
</head>
<body class="fancy basic-app" data-collage-overwrite-css="false">
  <header><h1>Something something</h1></header>
  <aside>
    <collage-fragment url="./icon-list.html"></collage-fragment>
    <nav id="action-change-theme">
      <h3>Themes</h3>
      <button>dark</button>
      <button class='active'>light</button>
      <button>customer</button>
    </nav>
  </aside>
  <main class="side-by-side">
    <collage-fragment url="./clicky.html"></collage-fragment>
    <collage-fragment url="./combinator.html"></collage-fragment>
  </main>
  <footer>
    <collage-fragment url="./company-info.html"></collage-fragment>
  </footer>
</body>
</html>
